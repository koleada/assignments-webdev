import{_ as f,o as m,a as p,b as s,w as n,v as i,d as w,n as h,t as u,e as I,F as b,r as v,f as c,g}from"./index-lbJSbVTR.js";const y={props:{newUser:{type:Object,required:!0}},data(){return{formData:{name:"",username:"",password:"",email:"",profileImageUrl:"",userId:-1}}},watch:{newUser:{immediate:!0,handler(o){this.formData={...o}}}},methods:{updateNewUser(){this.$emit("add-user",{...this.formData})}}},D={class:"main"},M={class:"field"},N={class:"control"},k={class:"field"},E={class:"control"},C={class:"field"},F={class:"control"},_={class:"field"},A={class:"control"},V={class:"field"},P={class:"control"};function j(o,e,l,r,a,d){return m(),p("div",D,[e[15]||(e[15]=s("div",{class:"close"},[s("i",{class:"fa-solid fa-x"})],-1)),s("div",M,[e[10]||(e[10]=s("label",{class:"label"},"Name:",-1)),s("div",N,[n(s("input",{class:"input is-rounded is-primary",type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>a.formData.name=t),onInput:e[1]||(e[1]=(...t)=>d.updateNewUser&&d.updateNewUser(...t)),placeholder:"John Doe"},null,544),[[i,a.formData.name]])])]),s("div",k,[e[11]||(e[11]=s("label",{class:"label"},"Username:",-1)),s("div",E,[n(s("input",{class:"input is-primary is-rounded",type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>a.formData.username=t),onInput:e[3]||(e[3]=(...t)=>d.updateNewUser&&d.updateNewUser(...t)),placeholder:"johndoe1"},null,544),[[i,a.formData.username]])])]),s("div",C,[e[12]||(e[12]=s("label",{class:"label"},"Email:",-1)),s("div",F,[n(s("input",{class:"input is-primary is-rounded",type:"email","onUpdate:modelValue":e[4]||(e[4]=t=>a.formData.email=t),onInput:e[5]||(e[5]=(...t)=>d.updateNewUser&&d.updateNewUser(...t)),placeholder:"johndoe@example.com"},null,544),[[i,a.formData.email]])])]),s("div",_,[e[13]||(e[13]=s("label",{class:"label"},"Password:",-1)),s("div",A,[n(s("input",{class:"input is-primary is-rounded",type:"text","onUpdate:modelValue":e[6]||(e[6]=t=>a.formData.password=t),onInput:e[7]||(e[7]=(...t)=>d.updateNewUser&&d.updateNewUser(...t)),placeholder:"password"},null,544),[[i,a.formData.password]])])]),s("div",V,[e[14]||(e[14]=s("label",{class:"label"},"Profile Image:",-1)),s("div",P,[n(s("input",{class:"input is-primary is-rounded",type:"text","onUpdate:modelValue":e[8]||(e[8]=t=>a.formData.profileImageUrl=t),onInput:e[9]||(e[9]=(...t)=>d.updateNewUser&&d.updateNewUser(...t)),placeholder:"https://my-image.com/example.jpg"},null,544),[[i,a.formData.profileImageUrl]])])])])}const U=f(y,[["render",j]]),q={class:"main"},B={class:"top"},x={class:"modal-card"},S={class:"modal-card-head"},z={class:"modal-card-title title is-3"},J={class:"modal-card-body"},L={class:"modal-card-foot"},O={class:"buttons"},T={class:"box"},G=["src"],H={class:"actions"},K=["onClick"],Q=["onClick"],R={components:{AddUserForm:U},data(){return{users:c([]),showForm:!1,isEditMode:!1,newUser:{name:"",username:"",password:"",email:"",profileImageUrl:"",userId:-1}}},methods:{showModal(){this.showForm=!0,this.isEditMode=!1,this.newUser={name:"",username:"",password:"",email:"",profileImageUrl:"",userId:-1}},closeModal(){this.showForm=!1},deleteUser(o){this.users=this.users.filter(e=>e.userId!==o)},editUser(o){this.newUser={...o},this.isEditMode=!0,this.showForm=!0},addUser(){const o=this.generateUniqueId();this.newUser.userId=o,this.users.push({...this.newUser}),this.newUser={name:"",username:"",password:"",email:"",profileImageUrl:"",userId:-1},this.showForm=!1},saveUserEdits(){const o=this.users.findIndex(e=>e.userId===this.newUser.userId);o!==-1&&(this.users[o]={...this.newUser}),this.closeModal()},updateUser(o){this.newUser=o},generateUniqueId(){return Math.floor(Math.random()*1e6)}},mounted(){this.users=g().data}},W=w({...R,__name:"admin",setup(o){return(e,l)=>(m(),p("div",q,[s("div",B,[l[4]||(l[4]=s("h1",{class:"title is-2"},"Admin Panel",-1)),s("button",{onClick:l[0]||(l[0]=(...r)=>e.showModal&&e.showModal(...r)),class:"button",id:"formBtn"},"Add User"),s("div",{class:h(["modal",{"is-active":e.showForm}])},[l[3]||(l[3]=s("div",{class:"modal-background"},null,-1)),s("div",x,[s("header",S,[s("p",z,u(e.isEditMode?"Edit User":"Add User"),1),s("button",{class:"delete","aria-label":"close",onClick:l[1]||(l[1]=(...r)=>e.closeModal&&e.closeModal(...r))})]),s("section",J,[I(U,{newUser:e.newUser,onAddUser:e.updateUser},null,8,["newUser","onAddUser"])]),s("footer",L,[s("div",O,[s("button",{class:"button is-primary",onClick:l[2]||(l[2]=r=>e.isEditMode?e.saveUserEdits():e.addUser())},"Submit")])])])],2)]),s("div",T,[s("table",null,[l[7]||(l[7]=s("thead",null,[s("tr",null,[s("th",null,"Profile Image"),s("th",null,"Name"),s("th",null,"Username"),s("th",null,"Email"),s("th",null,"User ID"),s("th",null,"Actions")])],-1)),s("tbody",null,[(m(!0),p(b,null,v(e.users,r=>(m(),p("tr",{key:r.userId},[s("td",null,[s("img",{src:r.profileImageUrl,alt:"Profile Image",class:"image is-64x64"},null,8,G)]),s("td",null,u(r.name),1),s("td",null,u(r.username),1),s("td",null,u(r.email),1),s("td",null,u(r.userId),1),s("td",H,[s("button",{onClick:a=>e.deleteUser(r.userId),class:"button"},l[5]||(l[5]=[s("i",{class:"far fa-trash-alt"},null,-1)]),8,K),s("button",{onClick:a=>e.editUser(r),class:"button"},l[6]||(l[6]=[s("i",{class:"far fa-edit"},null,-1)]),8,Q)])]))),128))])])])]))}}),Y=f(W,[["__scopeId","data-v-328e41fc"]]);export{Y as default};
