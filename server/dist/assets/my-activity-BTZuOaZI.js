import{_ as y,a as c,b as s,w as u,v as m,o as p,p as k,f,t as n,n as W,e as g,F as b,r as h,i as w,h as T}from"./index-lbJSbVTR.js";import{A as _,a as I}from"./ActivityCard-jI33gzXE.js";const S={props:{newWorkout:{type:Object,required:!0}},data(){return{formData:{id:null,description:"",dateOfPosting:"",imageUrl:"",distance:0,location:"",type:"",duration:0}}},watch:{newWorkout:{immediate:!0,handler(i){this.formData={...i}}}},methods:{updateNewWorkout(){this.$emit("add-workout",{...this.formData})}}},N={class:"main"},U={class:"field"},C={class:"control"},x={class:"field"},A={class:"control"},B={class:"field"},F={class:"control"},M={class:"field"},V={class:"control"},O={class:"field"},P={class:"control"},q={class:"field"},E={class:"control"},L={class:"field"},j={class:"control"};function z(i,t,a,r,o,l){return p(),c("div",N,[t[25]||(t[25]=s("div",{class:"close"},[s("i",{class:"fa-solid fa-x"})],-1)),s("div",U,[t[14]||(t[14]=s("label",{class:"label"},"Workout Description:",-1)),s("div",C,[u(s("input",{class:"input is-rounded is-primary","onUpdate:modelValue":t[0]||(t[0]=e=>o.formData.description=e),onInput:t[1]||(t[1]=(...e)=>l.updateNewWorkout&&l.updateNewWorkout(...e)),type:"text",placeholder:""},null,544),[[m,o.formData.description]])])]),s("div",x,[t[15]||(t[15]=s("label",{class:"label"},"Location:",-1)),s("div",A,[u(s("input",{class:"input is-primary is-rounded","onUpdate:modelValue":t[2]||(t[2]=e=>o.formData.location=e),onInput:t[3]||(t[3]=(...e)=>l.updateNewWorkout&&l.updateNewWorkout(...e)),type:"text",placeholder:"Central Park"},null,544),[[m,o.formData.location]])])]),s("div",B,[t[16]||(t[16]=s("label",{class:"label"},"Duration:",-1)),s("div",F,[u(s("input",{class:"input is-primary is-rounded","onUpdate:modelValue":t[4]||(t[4]=e=>o.formData.duration=e),onInput:t[5]||(t[5]=(...e)=>l.updateNewWorkout&&l.updateNewWorkout(...e)),type:"text",placeholder:"60"},null,544),[[m,o.formData.duration,void 0,{number:!0}]])]),t[17]||(t[17]=s("p",{class:"help"},"Number, in minutes",-1))]),s("div",M,[t[18]||(t[18]=s("label",{class:"label"},"Distance:",-1)),s("div",V,[u(s("input",{class:"input is-primary is-rounded","onUpdate:modelValue":t[6]||(t[6]=e=>o.formData.distance=e),onInput:t[7]||(t[7]=(...e)=>l.updateNewWorkout&&l.updateNewWorkout(...e)),type:"text",placeholder:"5"},null,544),[[m,o.formData.distance,void 0,{number:!0}]])]),t[19]||(t[19]=s("p",{class:"help"},"Number, in miles",-1))]),s("div",O,[t[20]||(t[20]=s("label",{class:"label"},"Date",-1)),s("div",P,[u(s("input",{class:"input is-primary is-rounded","onUpdate:modelValue":t[8]||(t[8]=e=>o.formData.dateOfPosting=e),onInput:t[9]||(t[9]=(...e)=>l.updateNewWorkout&&l.updateNewWorkout(...e)),type:"date"},null,544),[[m,o.formData.dateOfPosting]])])]),s("div",q,[t[21]||(t[21]=s("label",{class:"label"},"Image",-1)),s("div",E,[u(s("input",{class:"input is-primary is-rounded",type:"text","onUpdate:modelValue":t[10]||(t[10]=e=>o.formData.imageUrl=e),onInput:t[11]||(t[11]=(...e)=>l.updateNewWorkout&&l.updateNewWorkout(...e)),placeholder:"https://my-workout.com/img.png"},null,544),[[m,o.formData.imageUrl]])]),t[22]||(t[22]=s("p",{class:"help"},"URL to an image of your workout",-1))]),s("div",L,[t[23]||(t[23]=s("label",{class:"label"},"Type:",-1)),s("div",j,[u(s("input",{class:"input is-primary is-rounded","onUpdate:modelValue":t[12]||(t[12]=e=>o.formData.type=e),type:"text",onInput:t[13]||(t[13]=(...e)=>l.updateNewWorkout&&l.updateNewWorkout(...e)),placeholder:"weight room"},null,544),[[m,o.formData.type]])]),t[24]||(t[24]=s("p",{class:"help"},"What activity you did for this workout?",-1))])])}const H=y(S,[["render",z]]),R={components:{ActivityCard:_,WorkoutForm:H},data(){return{user:k(-1),workouts:f([]),allTimeStats:{totalDistance:0,totalTime:"",totalCals:0},weeklyStats:{totalDistance:0,totalTime:"",totalCals:0},showForm:!1,newWorkout:{id:null,description:"",dateOfPosting:"",imageUrl:"",distance:0,location:"",type:"",duration:0,userId:-1}}},methods:{handleDeleteWorkout(i){this.workouts=this.workouts.filter(t=>t.id!==i)},showModal(){this.showForm=!0},closeModal(){this.showForm=!1},getAllTimeStats(i){const t={totalDistance:0,totalTime:"",totalCals:0};let a=0;return i.forEach(r=>{t.totalDistance+=r.distance,a+=r.duration}),t.totalCals=t.totalDistance*100,t.totalTime=v(a),t},getWeeklyStats(i){const t={totalDistance:0,totalTime:"",totalCals:0};let a=0;const r=new Date,o=new Date(r.getTime()-7*24*60*60*1e3);return i.forEach(l=>{new Date(l.dateOfPosting)>=o&&(t.totalDistance+=l.distance,a+=l.duration,console.log(t.totalTime))}),t.totalCals=t.totalDistance*100,t.totalTime=v(a),t},addWorkout(){const i=this.generateUniqueId();this.newWorkout.id=i;const t=parseInt(localStorage.getItem("loggedInUserId"));this.newWorkout.userId=t,this.workouts.push({...this.newWorkout}),this.newWorkout={id:null,description:"",dateOfPosting:"",imageUrl:"",distance:0,location:"",type:"",duration:0},this.showForm=!1},updateWorkout(i){this.newWorkout=i},generateUniqueId(){return Math.floor(Math.random()*1e6)}},mounted(){const i=localStorage.getItem("loggedInUserId");if(!i)return;const t=f([]);t.value=I(parseInt(i)),this.workouts=t.value;const a=k(parseInt(i));this.user=a,this.allTimeStats=this.getAllTimeStats(t.value),this.weeklyStats=this.getWeeklyStats(t.value)}};function v(i){const t=Math.floor(i/60),a=i%60,r=t<10?`0${t}`:t,o=a<10?`0${a}`:a;return`${r}:${o}`}const G={class:"main"},J={class:"mainTitle"},K={class:"title is-2",style:{"text-align":"center"}},Q={id:"allStats"},X={class:"allTime box"},Y={class:"title is-5"},Z={class:"stat"},$={class:"title is-5"},tt={class:"stat"},st={class:"title is-5"},ot={class:"stat"},et={class:"title is-5"},lt={class:"weekly box"},it={class:"title is-5"},at={class:"stat"},nt={class:"title is-5"},rt={class:"stat"},dt={class:"title is-5"},ut={class:"stat"},mt={class:"title is-5"},pt={class:"activity"},ct={class:"title is-3",id:"history-title"},kt={class:"modal-card"},ft={class:"modal-card-head"},wt={class:"modal-card-body"},vt={class:"modal-card-foot"},yt={class:"buttons"};function Dt(i,t,a,r,o,l){const e=w("workout-form"),D=w("activity-card");return p(),c("div",G,[s("div",J,[s("h1",K,n(o.user.name)+"'s Fitness Activity:",1)]),s("div",Q,[s("div",X,[s("h2",Y,n(o.user.name)+"'s All-Time Stats",1),s("div",Z,[s("p",$,n(o.allTimeStats.totalDistance),1),t[3]||(t[3]=s("p",{class:"subtitle is-6"},"Total Distance",-1))]),s("div",tt,[s("p",st,n(o.allTimeStats.totalTime),1),t[4]||(t[4]=s("p",{class:"subtitle is-6"},"Total Time",-1))]),s("div",ot,[s("p",et,n(o.allTimeStats.totalCals),1),t[5]||(t[5]=s("p",{class:"subtitle is-6"},"Total Calories Burned",-1))])]),s("div",lt,[s("h2",it,n(o.user.name)+"'s Weekly Stats",1),s("div",at,[s("p",nt,n(o.weeklyStats.totalDistance),1),t[6]||(t[6]=s("p",{class:"subtitle is-6"},"Total Distance",-1))]),s("div",rt,[s("p",dt,n(o.weeklyStats.totalTime),1),t[7]||(t[7]=s("p",{class:"subtitle is-6"},"Total Time",-1))]),s("div",ut,[s("p",mt,n(o.weeklyStats.totalCals),1),t[8]||(t[8]=s("p",{class:"subtitle is-6"},"Total Calories Burned",-1))])])]),s("div",pt,[s("h2",ct,n(o.user.name)+"'s Activity History",1),s("button",{onClick:t[0]||(t[0]=(...d)=>l.showModal&&l.showModal(...d)),class:"button addBtn"},"Add Activity"),s("div",{class:W(["modal",{"is-active":o.showForm}])},[t[10]||(t[10]=s("div",{class:"modal-background"},null,-1)),s("div",kt,[s("header",ft,[t[9]||(t[9]=s("p",{class:"modal-card-title title is-3"},"Add Activity",-1)),s("button",{class:"delete","aria-label":"close",onClick:t[1]||(t[1]=(...d)=>l.closeModal&&l.closeModal(...d))})]),s("section",wt,[g(e,{newWorkout:o.newWorkout,onAddWorkout:l.updateWorkout},null,8,["newWorkout","onAddWorkout"])]),s("footer",vt,[s("div",yt,[s("button",{class:"button is-primary",onClick:t[2]||(t[2]=(...d)=>l.addWorkout&&l.addWorkout(...d))},"Submit")])])])],2),(p(!0),c(b,null,h(o.workouts,d=>(p(),T(D,{class:"activity-card",showDeleteButton:!0,onDeleteWorkout:l.handleDeleteWorkout,key:d.id,workout:d},null,8,["onDeleteWorkout","workout"]))),128))])])}const bt=y(R,[["render",Dt],["__scopeId","data-v-4a9bc9af"]]);export{bt as default};
