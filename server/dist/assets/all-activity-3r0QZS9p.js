import{W as w,g as h}from"./ActivityCard-DFLP_I_d.js";import{W}from"./WorkoutForm-D3CrkcIy.js";import{g as v,_ as f,a as l,b as o,e as y,n as i,f as c,F as u,r as A,k as m,o as a,l as _}from"./index-D4rLecNa.js";const b={data(){return{workouts:v([]),newWorkout:{description:"",dateOfPosting:"",imageUrl:"",distance:0,location:"",type:"",duration:0,userId:-1},showForm:!1,showAddBtn:!1}},components:{ActivityCard:w,WorkoutForm:W},methods:{showModal(){this.showForm=!0},closeModal(){this.showForm=!1},async handleAddWorkout(){this.newWorkout.userId=parseInt(localStorage.getItem("loggedInUserId"));try{await addWorkout(this.newWorkout)}catch(r){console.log(r)}this.newWorkout={id:-1,description:"",dateOfPosting:"",imageUrl:"",distance:0,location:"",type:"",duration:0,userId:-1},this.showForm=!1,window.location.reload()},updateWorkout(r){this.newWorkout=r}},mounted(){try{h().then(t=>this.workouts=t.data)}catch(t){console.error(t)}(localStorage.getItem("jwtToken")||"")&&(this.showAddBtn=!0)}},g={class:"main"},p={class:"content"},C={class:"modal-card"},F={class:"modal-card-head"},I={class:"modal-card-body"},B={class:"modal-card-foot"},M={class:"buttons"},S={class:"modelDiv"},x={class:"modal-card"},N={class:"modal-card-head"},U={class:"modal-card-body"},V={class:"modal-card-foot"},O={class:"buttons"};function P(r,t,j,z,e,s){const n=m("workout-form"),k=m("activity-card");return a(),l(u,null,[o("div",g,[o("div",p,[t[7]||(t[7]=o("h1",{class:"title is-3"},"All Fitness Activity",-1)),e.showAddBtn?(a(),l("button",{key:0,onClick:t[0]||(t[0]=(...d)=>s.showModal&&s.showModal(...d)),class:"button addBtn is-primary"},"Add Activity")):y("",!0),o("div",{class:i(["modal",{"is-active":e.showForm}])},[t[6]||(t[6]=o("div",{class:"modal-background"},null,-1)),o("div",C,[o("header",F,[t[5]||(t[5]=o("p",{class:"modal-card-title title is-3",style:{"margin-bottom":"0!important"}},"Add Activity",-1)),o("button",{class:"delete","aria-label":"close",onClick:t[1]||(t[1]=(...d)=>s.closeModal&&s.closeModal(...d))})]),o("section",I,[c(n,{newWorkout:e.newWorkout,onAddWorkout:s.updateWorkout},null,8,["newWorkout","onAddWorkout"])]),o("footer",B,[o("div",M,[o("button",{class:"button is-primary",onClick:t[2]||(t[2]=(...d)=>s.handleAddWorkout&&s.handleAddWorkout(...d))},"Submit")])])])],2),o("div",null,[(a(!0),l(u,null,A(e.workouts,d=>(a(),_(k,{class:"activity-card",key:d.id,workout:d},null,8,["workout"]))),128))])])]),o("div",S,[o("div",{class:i(["modal",{"is-active":e.showForm}])},[t[9]||(t[9]=o("div",{class:"modal-background"},null,-1)),o("div",x,[o("header",N,[t[8]||(t[8]=o("p",{class:"modal-card-title title is-3",style:{"margin-bottom":"0!important"}},"Add Activity",-1)),o("button",{class:"delete","aria-label":"close",onClick:t[3]||(t[3]=(...d)=>s.closeModal&&s.closeModal(...d))})]),o("section",U,[c(n,{newWorkout:e.newWorkout,onAddWorkout:s.updateWorkout},null,8,["newWorkout","onAddWorkout"])]),o("footer",V,[o("div",O,[o("button",{class:"button is-primary",onClick:t[4]||(t[4]=(...d)=>s.handleAddWorkout&&s.handleAddWorkout(...d))},"Submit")])])])],2)])],64)}const T=f(b,[["render",P],["__scopeId","data-v-5f5c516d"]]);export{T as default};
