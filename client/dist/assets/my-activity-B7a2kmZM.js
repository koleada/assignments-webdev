import{a as v,A as h}from"./ActivityCard-DatBP2mS.js";import{_ as p,o,a as r,c as y,d as b,b as s,t as i,n as _,e as f,F as T,r as k,m as c,f as u,h as g}from"./index-Bdltz7GW.js";const S={},w={class:"main"};function D(e,t){return o(),r("div",w,t[0]||(t[0]=[y('<div class="close"><i class="fa-solid fa-x"></i></div><div class="field"><label class="label">Workout Description:</label><div class="control"><input class="input is-rounded is-primary" type="text" placeholder=""></div></div><div class="field"><label class="label">Location:</label><div class="control"><input class="input is-primary is-rounded" type="text" placeholder="Central Park"></div></div><div class="field"><label class="label">Duration:</label><div class="control"><input class="input is-primary is-rounded" type="text" placeholder="60"></div><p class="help">Number, in minutes</p></div><div class="field"><label class="label">Distance:</label><div class="control"><input class="input is-primary is-rounded" type="text" placeholder="5"></div><p class="help">Number, in miles</p></div><div class="field"><label class="label">Date</label><div class="control"><input class="input is-primary is-rounded" type="date"></div></div><div class="field"><label class="label">Image</label><div class="control"><input class="input is-primary is-rounded" type="text" placeholder="https://my-workout.com/img.png"></div><p class="help">URL to an image of your workout</p></div><div class="field"><label class="label">Type:</label><div class="control"><input class="input is-primary is-rounded" type="text" placeholder="weight room"></div><p class="help">What activity you did for this workout?</p></div>',8)]))}const C=p(S,[["render",D]]),A={class:"main"},I={class:"mainTitle"},B={class:"title is-2",style:{"text-align":"center"}},F={id:"allStats"},M={class:"allTime box"},W={class:"title is-5"},$={class:"stat"},N={class:"title is-5"},U={class:"stat"},E={class:"title is-5"},L={class:"stat"},V={class:"title is-5"},P={class:"weekly box"},z={class:"title is-5"},H={class:"stat"},O={class:"title is-5"},R={class:"stat"},j={class:"title is-5"},q={class:"stat"},G={class:"title is-5"},J={class:"activity"},K={class:"title is-3",id:"history-title"},Q={class:"modal-card"},X={class:"modal-card-head"},Y={class:"modal-card-body"},Z={class:"modal-card-foot"},x={class:"buttons"},tt={data(){return{user:c(-1),workouts:u([]),allTimeStats:{totalDistance:0,totalTime:"",totalCals:0},weeklyStats:{totalDistance:0,totalTime:"",totalCals:0},showForm:!1}},methods:{showModal(){this.showForm=!0},closeModal(){this.showForm=!1},getAllTimeStats(e){const t={totalDistance:0,totalTime:"",totalCals:0};let l=0;return e.forEach(a=>{t.totalDistance+=a.distance,l+=a.duration}),t.totalCals=t.totalDistance*100,t.totalTime=m(l),t},getWeeklyStats(e){const t={totalDistance:0,totalTime:"",totalCals:0};let l=0;const a=new Date,d=new Date(a.getTime()-7*24*60*60*1e3);return e.forEach(n=>{new Date(n.dateOfPosting)>=d&&(t.totalDistance+=n.distance,l+=n.duration,console.log(t.totalTime))}),t.totalCals=t.totalDistance*100,t.totalTime=m(l),t}},mounted(){const e=localStorage.getItem("loggedInUserId");if(!e)return;const t=u([]);t.value=v(parseInt(e)),this.workouts=t.value;const l=c(parseInt(e));this.user=l,this.allTimeStats=this.getAllTimeStats(t.value),this.weeklyStats=this.getWeeklyStats(t.value)}};function m(e){const t=Math.floor(e/60),l=e%60,a=t<10?`0${t}`:t,d=l<10?`0${l}`:l;return`${a}:${d}`}const st=b({...tt,__name:"my-activity",setup(e){return(t,l)=>(o(),r("div",A,[s("div",I,[s("h1",B,i(t.user.name)+"'s Fitness Activity:",1)]),s("div",F,[s("div",M,[s("h2",W,i(t.user.name)+"'s All-Time Stats",1),s("div",$,[s("p",N,i(t.allTimeStats.totalDistance),1),l[3]||(l[3]=s("p",{class:"subtitle is-6"},"Total Distance",-1))]),s("div",U,[s("p",E,i(t.allTimeStats.totalTime),1),l[4]||(l[4]=s("p",{class:"subtitle is-6"},"Total Time",-1))]),s("div",L,[s("p",V,i(t.allTimeStats.totalCals),1),l[5]||(l[5]=s("p",{class:"subtitle is-6"},"Total Calories Burned",-1))])]),s("div",P,[s("h2",z,i(t.user.name)+"'s Weekly Stats",1),s("div",H,[s("p",O,i(t.weeklyStats.totalDistance),1),l[6]||(l[6]=s("p",{class:"subtitle is-6"},"Total Distance",-1))]),s("div",R,[s("p",j,i(t.weeklyStats.totalTime),1),l[7]||(l[7]=s("p",{class:"subtitle is-6"},"Total Time",-1))]),s("div",q,[s("p",G,i(t.weeklyStats.totalCals),1),l[8]||(l[8]=s("p",{class:"subtitle is-6"},"Total Calories Burned",-1))])])]),s("div",J,[s("h2",K,i(t.user.name)+"'s Activity History",1),s("button",{onClick:l[0]||(l[0]=(...a)=>t.showModal&&t.showModal(...a)),class:"button"},"Add Activity"),s("div",{class:_(["modal",{"is-active":t.showForm}])},[l[10]||(l[10]=s("div",{class:"modal-background"},null,-1)),s("div",Q,[s("header",X,[l[9]||(l[9]=s("p",{class:"modal-card-title title is-3"},"Add Activity",-1)),s("button",{class:"delete","aria-label":"close",onClick:l[1]||(l[1]=(...a)=>t.closeModal&&t.closeModal(...a))})]),s("section",Y,[f(C)]),s("footer",Z,[s("div",x,[s("button",{class:"button is-primary",onClick:l[2]||(l[2]=(...a)=>t.closeModal&&t.closeModal(...a))},"Submit")])])])],2),(o(!0),r(T,null,k(t.workouts,a=>(o(),g(h,{class:"activity-card",key:a.id,workout:a},null,8,["workout"]))),128))])]))}}),it=p(st,[["__scopeId","data-v-dd4f57e7"]]);export{it as default};
